{"version":3,"file":"background.js","mappings":"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","sources":["webpack://analystassist/./src/background.js"],"sourcesContent":["//================================================\n/*\n\nNote Sidebar\nSimple note sidebar which can be used to write a note, record thoughts, to-do list, meeting notes, etc.\nCopyright (C) 2022 exabeam\nwww.exabeam.com\n\nThis program is free software; you can redistribute it and/or\nmodify it under the terms of the GNU General Public License\nas published by the Free Software Foundation; either version 2\nof the License, or (at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program; if not, write to the Free Software\nFoundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n\n\nTo view a copy of this license, visit http://creativecommons.org/licenses/GPL/2.0/\n\n*/\n//================================================\n\nif(typeof browser !== \"undefined\"){\n\tvar qtest = browser.sidebarAction;\n\tif(typeof qtest !== \"undefined\"){\n\t\tbrowser.browserAction.onClicked.addListener(function(){\n\t\t\tbrowser.sidebarAction.toggle();\n\t\t});\n\t}\n}\n\n// Importing the constants\n// eslint-disable-next-line no-undef\nimportScripts(\"scripts/constants.js\");\n\nchrome.sidePanel.setPanelBehavior({openPanelOnActionClick: true}).catch((error) => console.error(error));\n\nchrome.runtime.onMessage.addListener(function request(request){\n\t// eye protection & autodim & shortcut\n\tswitch(request.name){\n\tcase\"bckreload\":\n\t\tinstallation();\n\t\tbreak;\n\t}\n\treturn true;\n});\n\nvar i18nfirsttext = chrome.i18n.getMessage(\"firsttext\");\n\n// contextMenus\nfunction onClickHandler(info){\n\tif(info.menuItemId == \"totlguideemenu\"){\n\t\tchrome.tabs.create({url: linkguide, active:true});\n\t}else if(info.menuItemId == \"totldevelopmenu\"){\n\t\tchrome.tabs.create({url: linkdonate, active:true});\n\t}else if(info.menuItemId == \"totlratemenu\"){\n\t\tchrome.tabs.create({url: writereview, active:true});\n\t}else if(info.menuItemId == \"totlshareemail\"){\n\t\tvar sturnoffthelightemail = \"mailto:your@email.com?subject=\" + chrome.i18n.getMessage(\"sharetexta\") + \"&body=\" + chrome.i18n.getMessage(\"sharetextb\") + \" \" + linkproduct; chrome.tabs.create({url: sturnoffthelightemail, active:true});\n\t}else if(info.menuItemId == \"totlsharetwitter\"){\n\t\tvar slinkproductcodeurl = encodeURIComponent(chrome.i18n.getMessage(\"sharetextd\") + \" \" + linkproduct); chrome.tabs.create({url: \"https://twitter.com/intent/tweet?text=\" + slinkproductcodeurl, active:true});\n\t}else if(info.menuItemId == \"totlsharefacebook\"){\n\t\tchrome.tabs.create({url: \"https://www.facebook.com/sharer/sharer.php?u=\" + linkproduct, active:true});\n\t}else if(info.menuItemId == \"totlsubscribe\"){\n\t\tchrome.tabs.create({url: linkyoutube, active:true});\n\t}else if(info.menuItemId == \"totlshareqq\"){\n\t\tchrome.tabs.create({url: \"https://connect.qq.com/widget/shareqq/index.html?url=\" + encodeURIComponent(linkproduct) + \"&title=\" + encodeURIComponent(chrome.i18n.getMessage(\"sharetextd\")), active:true});\n\t}else if(info.menuItemId == \"totlshareweibo\"){\n\t\tchrome.tabs.create({url: \"https://service.weibo.com/share/share.php?url=\" + linkproduct + \"&title=\" + encodeURIComponent(chrome.i18n.getMessage(\"sharetextd\")), active:true});\n\t}else if(info.menuItemId == \"totlsharevkontakte\"){\n\t\tchrome.tabs.create({url: \"https://vk.com/share.php?url=\" + linkproduct, active:true});\n\t}else if(info.menuItemId == \"totlsharewhatsapp\"){\n\t\tchrome.tabs.create({url: \"https://api.whatsapp.com/send?text=\" + chrome.i18n.getMessage(\"sharetextd\") + \"%0a\" + linkproduct, active:true});\n\t}else if(info.menuItemId == \"snpage\"){\n\t\tvar selectedtext = info.selectionText;\n\t\tchrome.storage.sync.get([\"txtvalue\"], function(items){\n\t\t\tvar theValue = items[\"txtvalue\"]; if(theValue == null){ theValue = i18nfirsttext; }\n\t\t\tvar newtextstring = theValue + \" \" + selectedtext;\n\t\t\tchrome.storage.sync.set({\"txtvalue\": newtextstring});\n\t\t});\n\t}\n}\n\n// check to remove all contextmenus\nif(chrome.contextMenus){\n\tchrome.contextMenus.removeAll(function(){\n\t// console.log(\"contextMenus.removeAll callback\");\n\t});\n}\n\nvar sharemenusharetitle = chrome.i18n.getMessage(\"sharemenusharetitle\");\nvar sharemenuwelcomeguidetitle = chrome.i18n.getMessage(\"sharemenuwelcomeguidetitle\");\nvar sharemenutellafriend = chrome.i18n.getMessage(\"sharemenutellafriend\");\nvar sharemenusendatweet = chrome.i18n.getMessage(\"sharemenusendatweet\");\nvar sharemenupostonfacebook = chrome.i18n.getMessage(\"sharemenupostonfacebook\");\nvar sharemenuratetitle = chrome.i18n.getMessage(\"sharemenuratetitle\");\nvar sharemenudonatetitle = chrome.i18n.getMessage(\"sharemenudonatetitle\");\nvar sharemenusubscribetitle = chrome.i18n.getMessage(\"desremyoutube\");\nvar sharemenupostonweibo = chrome.i18n.getMessage(\"sharemenupostonweibo\");\nvar sharemenupostonvkontakte = chrome.i18n.getMessage(\"sharemenupostonvkontakte\");\nvar sharemenupostonwhatsapp = chrome.i18n.getMessage(\"sharemenupostonwhatsapp\");\nvar sharemenupostonqq = chrome.i18n.getMessage(\"sharemenupostonqq\");\n\nfunction browsercontext(a, b, c, d){\n\tvar item = {\"title\": a, \"type\": \"normal\", \"id\": b, \"contexts\": contexts};\n\tvar newitem;\n\tif(d != \"\"){\n\t\titem = Object.assign({}, item, {parentId: d});\n\t}\n\tif(c != \"\"){\n\t\tnewitem = Object.assign({}, item, {icons: c});\n\t}\n\ttry{\n\t\t// try show web browsers that do support \"icons\"\n\t\t// Firefox, Opera, Microsoft Edge\n\t\treturn chrome.contextMenus.create(newitem);\n\t}catch(e){\n\t\t// catch web browsers that do NOT show the icon\n\t\t// Google Chrome\n\t\treturn chrome.contextMenus.create(item);\n\t}\n}\n\nvar actionmenuadded = false;\nif(chrome.contextMenus){\n\tif(actionmenuadded == false){\n\t\tactionmenuadded = true;\n\n\t\tvar contexts = [\"browser_action\"];\n\n\t\tbrowsercontext(sharemenuwelcomeguidetitle, \"totlguideemenu\", {\"16\": \"images/IconGuide.png\", \"32\": \"images/IconGuide@2x.png\"});\n\t\tbrowsercontext(sharemenudonatetitle, \"totldevelopmenu\", {\"16\": \"images/IconDonate.png\", \"32\": \"images/IconDonate@2x.png\"});\n\t\tbrowsercontext(sharemenuratetitle, \"totlratemenu\", {\"16\": \"images/IconStar.png\", \"32\": \"images/IconStar@2x.png\"});\n\n\t\t// Create a parent item and two children.\n\t\tvar parent = null;\n\t\tparent = browsercontext(sharemenusharetitle, \"totlsharemenu\", {\"16\": \"images/IconShare.png\", \"32\": \"images/IconShare@2x.png\"});\n\t\tbrowsercontext(sharemenutellafriend, \"totlshareemail\", {\"16\": \"images/IconEmail.png\", \"32\": \"images/IconEmail@2x.png\"}, parent);\n\t\tchrome.contextMenus.create({\"title\": \"\", \"type\":\"separator\", \"id\": \"totlsepartorshare\", \"contexts\": contexts, \"parentId\": parent});\n\n\t\tvar uiLanguage = chrome.i18n.getUILanguage();\n\t\tif(uiLanguage.includes(\"zh\")){\n\t\t\t// Chinese users\n\t\t\tbrowsercontext(sharemenupostonweibo, \"totlshareweibo\", {\"16\": \"images/IconWeibo.png\", \"32\": \"images/IconWeibo@2x.png\"}, parent);\n\t\t\tbrowsercontext(sharemenupostonqq, \"totlshareqq\", {\"16\": \"images/IconQQ.png\", \"32\": \"images/IconQQ@2x.png\"}, parent);\n\t\t}else if(uiLanguage.includes(\"ru\")){\n\t\t\t// Russian users\n\t\t\tbrowsercontext(sharemenupostonvkontakte, \"totlsharevkontakte\", {\"16\": \"images/IconVkontakte.png\", \"32\": \"images/IconVkontakte@2x.png\"}, parent);\n\t\t\tbrowsercontext(sharemenupostonfacebook, \"totlsharefacebook\", {\"16\": \"images/IconFacebook.png\", \"32\": \"images/IconFacebook@2x.png\"}, parent);\n\t\t\tbrowsercontext(sharemenupostonwhatsapp, \"totlsharewhatsapp\", {\"16\": \"images/IconWhatsApp.png\", \"32\": \"images/IconWhatsApp@2x.png\"}, parent);\n\t\t\tbrowsercontext(sharemenusendatweet, \"totlsharetwitter\", {\"16\": \"images/IconTwitter.png\", \"32\": \"images/IconTwitter@2x.png\"}, parent);\n\t\t}else{\n\t\t\t// all users\n\t\t\tbrowsercontext(sharemenupostonfacebook, \"totlsharefacebook\", {\"16\": \"images/IconFacebook.png\", \"32\": \"images/IconFacebook@2x.png\"}, parent);\n\t\t\tbrowsercontext(sharemenupostonwhatsapp, \"totlsharewhatsapp\", {\"16\": \"images/IconWhatsApp.png\", \"32\": \"images/IconWhatsApp@2x.png\"}, parent);\n\t\t\tbrowsercontext(sharemenusendatweet, \"totlsharetwitter\", {\"16\": \"images/IconTwitter.png\", \"32\": \"images/IconTwitter@2x.png\"}, parent);\n\t\t}\n\n\t\tchrome.contextMenus.create({\"title\": \"\", \"type\":\"separator\", \"id\": \"totlsepartor\", \"contexts\": contexts});\n\t\tbrowsercontext(sharemenusubscribetitle, \"totlsubscribe\", {\"16\": \"images/IconYouTube.png\", \"32\": \"images/IconYouTube@2x.png\"});\n\n\t\tchrome.contextMenus.onClicked.addListener(onClickHandler);\n\t}\n}\n\nvar contextmenus;\nchrome.storage.sync.get([\"contextmenus\"], function(items){\n\tcontextmenus = items.contextmenus; if(contextmenus == null)contextmenus = true;\n\tif(items[\"contextmenus\"]){ checkcontextmenus(); }\n});\n\n// context menu for page\nvar menupage = null;\nvar contextmenuadded = false;\nvar contextarraypage = [];\nvar contextspage = null;\n\nvar pagetitle = chrome.i18n.getMessage(\"pagetitle\");\nfunction checkcontextmenus(){\n\tif(chrome.contextMenus){\n\t\tif(contextmenuadded == false){\n\t\t\tcontextmenuadded = true;\n\n\t\t\t// page\n\t\t\tcontextspage = [\"selection\"];\n\t\t\tmenupage = chrome.contextMenus.create({\"title\": pagetitle, \"type\":\"normal\", \"id\": \"snpage\", \"contexts\":contextspage});\n\t\t\tcontextarraypage.push(menupage);\n\t\t}\n\t}\n}\n\nfunction removecontexmenus(){\n\tif(contextspage != null){\n\t\tchrome.contextMenus.remove(\"snpage\");\n\t}\n\tcontextspage = null;\n\tcontextmenuadded = false;\n}\n\nfunction onchangestorage(a, b, c, d){\n\tif(a[b]){\n\t\tif(a[b].newValue == true){ c(); }else{ d(); }\n\t}\n}\n\nchrome.storage.onChanged.addListener(function(changes){\n\tonchangestorage(changes, \"contextmenus\", checkcontextmenus, removecontexmenus);\n\tif(changes[\"txtvalue\"]){\n\t\tif(changes[\"txtvalue\"].newValue){ chrome.runtime.sendMessage({msg: \"setnotetext\", value: changes[\"txtvalue\"].newValue}); }\n\t}\n\tif(changes[\"counter\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setcounter\", value: changes[\"counter\"].newValue});\n\t}\n\tif(changes[\"copy\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setcopy\", value: changes[\"copy\"].newValue});\n\t}\n\tif(changes[\"speech\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setspeech\", value: changes[\"speech\"].newValue});\n\t}\n\tif(changes[\"voices\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setvoices\", value: changes[\"voices\"].newValue});\n\t}\n\tif(changes[\"fontsize\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setfontsize\", value: changes[\"fontsize\"].newValue});\n\t}\n\tif(changes[\"lineheight\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setlineheight\", value: changes[\"lineheight\"].newValue});\n\t}\n\tif(changes[\"colorlight\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setcolorlight\", value: changes[\"colorlight\"].newValue});\n\t}\n\tif(changes[\"colordark\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setcolordark\", value: changes[\"colordark\"].newValue});\n\t}\n\tif(changes[\"backgroundlight\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setbackgroundlight\", value: changes[\"backgroundlight\"].newValue});\n\t}\n\tif(changes[\"backgrounddark\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setbackgrounddark\", value: changes[\"backgrounddark\"].newValue});\n\t}\n\tif(changes[\"backgroundcolor\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setbackgroundcolor\", value: changes[\"backgroundcolor\"].newValue});\n\t}\n\tif(changes[\"backgroundimage\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setbackgroundimage\", value: changes[\"backgroundimage\"].newValue});\n\t}\n\tif(changes[\"backgroundsource\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setbackgroundsource\", value: changes[\"backgroundsource\"].newValue});\n\t}\n\tif(changes[\"backgroundsize\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setbackgroundsize\", value: changes[\"backgroundsize\"].newValue});\n\t}\n\tif(changes[\"print\"]){\n\t\tchrome.runtime.sendMessage({msg: \"setprint\", value: changes[\"print\"].newValue});\n\t}\n});\n\nchrome.runtime.setUninstallURL(linkuninstall);\n\nfunction initwelcome(){\n\tchrome.storage.sync.get([\"firstRun\"], function(chromeset){\n\t\tif((chromeset[\"firstRun\"] != \"false\") && (chromeset[\"firstRun\"] != false)){\n\t\t\tchrome.tabs.create({url: linkwelcome});\n\t\t\tvar crrinstall = new Date().getTime();\n\t\t\tchrome.storage.sync.set({\"firstRun\": false, \"version\": \"1.0\", \"firstDate\": crrinstall});\n\t\t}\n\t});\n}\n\nfunction installation(){\n\tinitwelcome();\n}\n\nchrome.runtime.onInstalled.addListener(function(){\n\tinstallation();\n});"],"names":[],"sourceRoot":""}